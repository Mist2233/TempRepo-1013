# 淘宝登录注册系统

一个基于 React + Node.js 的现代化登录注册系统，模仿淘宝的界面设计和用户体验。

## 项目结构

```
TempRepo-1013/
├── frontend/          # React 前端应用
├── backend/           # Node.js 后端服务
├── .artifacts/        # 接口规格文件
└── test/             # 测试文件
```

## 项目运行方式

### 环境要求

- Node.js 16.0 或更高版本
- npm 或 yarn 包管理器

### 启动步骤

#### 1. 启动后端服务

```bash
cd backend
npm install
npm start
```

后端服务将在 `http://localhost:3000` 启动

#### 2. 启动前端应用

```bash
cd frontend
npm install
npm run dev
```

前端应用将在 `http://localhost:5173` 启动

#### 3. 访问应用

打开浏览器访问 `http://localhost:5173` 即可使用系统

## 测试执行方法

### 前端测试

```bash
cd frontend
npm test
```

- 测试框架：Vitest + React Testing Library
- 测试覆盖：组件渲染、用户交互、API调用、错误处理
- 测试文件位置：`frontend/test/components/`

### 后端测试

```bash
cd backend
npm test
```

- 测试框架：Jest
- 测试覆盖：API接口、数据库操作、业务逻辑
- 测试文件位置：`backend/test/`

## 实现的登录注册功能

### 🎨 界面特性

- **现代化设计**：模仿淘宝官方界面，橙色主题配色
- **响应式布局**：支持不同屏幕尺寸的设备
- **品牌元素**：淘宝logo背景，提升品牌识别度
- **用户友好**：清晰的视觉反馈和错误提示

### 🔐 登录功能

#### 多种登录方式
- **密码登录**：支持手机号+密码的传统登录方式
- **短信登录**：支持手机号+验证码的便捷登录方式
- **扫码登录**：预留二维码登录功能（界面已实现）

#### 核心特性
- ✅ 手机号格式验证（11位数字，1开头）
- ✅ 验证码发送与验证（6位数字，60秒有效期）
- ✅ 登录状态管理（JWT令牌）
- ✅ 错误处理与用户提示
- ✅ 加载状态显示
- ✅ 60秒倒计时防重复发送

### 📝 注册功能

#### 注册流程
1. 输入手机号（自动格式验证）
2. 获取短信验证码
3. 输入验证码进行验证
4. 同意用户协议
5. 完成注册

#### 核心特性
- ✅ 手机号唯一性检查
- ✅ 验证码验证机制
- ✅ 用户协议确认
- ✅ 注册成功后自动登录
- ✅ 重复注册检测

### 🛠 技术实现

#### 前端技术栈
- **React 18** + TypeScript
- **Vite** 构建工具
- **CSS3** 样式设计
- **React Testing Library** 测试

#### 后端技术栈
- **Node.js** + Express
- **SQLite** 数据库
- **JWT** 身份认证
- **bcrypt** 密码加密

#### 数据库设计
- **users表**：存储用户基本信息（ID、手机号、创建时间）
- **verification_codes表**：存储验证码信息（手机号、验证码、过期时间、使用状态）

### 🔒 安全特性

- **验证码安全**：60秒有效期，使用后立即失效
- **频率限制**：防止验证码恶意发送
- **输入验证**：前后端双重验证
- **JWT认证**：安全的用户身份验证
- **错误处理**：详细的错误信息和用户提示

### 📱 用户体验

- **即时反馈**：实时表单验证和错误提示
- **加载状态**：按钮加载动画和禁用状态
- **倒计时显示**：验证码发送后的倒计时提示
- **页面切换**：登录和注册页面间的平滑切换
- **响应式设计**：适配不同设备屏幕

### 🧪 测试覆盖

- **单元测试**：组件功能测试
- **集成测试**：API接口测试
- **用户交互测试**：模拟用户操作流程
- **错误场景测试**：网络错误、验证失败等异常情况

## 开发说明

### API接口

- `POST /api/auth/send-verification-code` - 发送验证码
- `POST /api/auth/register` - 用户注册
- `POST /api/auth/login` - 用户登录

### 环境配置

- 前端代理配置：`frontend/vite.config.ts`
- 后端端口：3000
- 前端端口：5173
- 数据库：SQLite（自动创建）

## 注意事项

1. 首次运行需要安装依赖：`npm install`
2. 验证码在开发环境下会在后端控制台输出
3. 数据库文件会自动创建在 `backend/data/` 目录下
4. 测试环境使用固定验证码 "123456" 便于测试

---

*该项目实现了完整的用户认证系统，具备生产环境的基本要求，包括安全性、用户体验和代码质量。*